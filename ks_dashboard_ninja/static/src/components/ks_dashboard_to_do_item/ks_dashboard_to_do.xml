<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

      <t t-name="Ksdashboardtodo">
          <t t-if="props.explain_ai_whole">
        <div class="grid-stack-item ks_tile_carousel ks_dashboarditem_id ks_explain_todo" t-att-id="item_id" t-ref="todoRootRef">
            <div class="grid-stack-item-content ks_list_view_container  ks_dashboard_item_hover card border-0"
                    t-att-title="ks_info" t-att-id="item_id">
                <div class="ks_card_header encapsulated-header-card" t-att-style="'background-color:'+ ks_header_color + ';' + 'color:'+ ks_font_color + '!important;'">
                    <div class="p-3 py-3 d-flex flex-row align-items-center justify-content-between ">
                        <div class="d-flex align-items-center  w-50">
                            <h6 class="m-0 font-weight-bold h3 mr-3 ks_list_view_heading text-capitalize"
                                t-att-style="'color:'+ ks_font_color + ' !important' + ';'"
                                t-att-title="ks_chart_title">
                                <t t-esc="ks_chart_title"/>
                            </h6>
                        </div>

                        <KsItemButton item_data="this.item" itemRootRef="todoRootRef"/>
                    </div>


                    <div class="card-header">
                        <div class="nav-tabs-navigation">
                            <div class="nav-tabs-wrapper">
                                <t t-if="state.to_do_view_data['label']">
                                    <ul class="nav nav-tabs" data-tabs="tabs">
                                        <t t-set="ks_rec_count" t-value="0"/>
                                        <t t-foreach="state.to_do_view_data['label']" t-as="table_header" t-key="table_header_index">
                                            <li class="nav-item">
                                                <t t-if="ks_rec_count==0">
                                                    <a class="nav-link active ks_li_tab" t-on-click="ksOnToDoClick"
                                                       t-att-style="'color:'+ ks_font_color + ' !important' + ';'"
                                                       t-att-data-item-id="item_id"
                                                       t-att-data-section-id="state.to_do_view_data['ks_section_id'][ks_rec_count]"
                                                       data-toggle="pill"
                                                       t-att-href="state.to_do_view_data['ks_link'][ks_rec_count]">
                                                        <t t-esc="table_header"/>
                                                    </a>
                                                </t>
                                                <t t-else="">
                                                    <a class="nav-link ks_li_tab" t-on-click="ksOnToDoClick"
                                                       t-att-data-item-id="item_id"
                                                       t-att-style="'color:'+ ks_font_color + ' !important' + ';'"
                                                       t-att-data-section-id="state.to_do_view_data['ks_section_id'][ks_rec_count]"
                                                       data-toggle="pill"
                                                       t-att-href="state.to_do_view_data['ks_link'][ks_rec_count]">
                                                        <t t-esc="table_header"/>
                                                    </a>
                                                </t>

                                            </li>
                                            <t t-set="ks_rec_count" t-value="ks_rec_count+1"/>
                                        </t>
                                    </ul>
                                    <button class="header_add_btn" t-on-click="_onKsAddTask"
                                            t-att-data-item-id="item_id"
                                            t-att-style="'color:'+ ks_rgba_button_color + ' !important' + ';'"
                                            t-att-data-section-id="state.to_do_view_data['ks_section_id'][0]">
                                        <span class="fa fa-lg fa-plus-circle"/>
                                    </button>
                                </t>
                                <t t-else="">
                                    <ul class="nav nav-tabs" data-tabs="tabs">
                                        <li class="nav-item">
                                            No Section Available.
                                        </li>
                                    </ul>
                                </t>

                            </div>
                        </div>
                    </div>
                </div>
                <div class="ks_to_do_card_body card-body table-responsive">
                    <t t-call="ks_to_do_dashboard_inner_body"/>
                </div>
            </div>
        </div>
      </t>
    </t>


    <t t-name="ks_to_do_dashboard_inner_body">
        <div class="container-fluid p-0">
            <div>
                <div>
                    <div class="card">
                        <t t-if="state.to_do_view_data['label']">

                            <div class="card-body">
                                <div class="tab-content">
                                    <t t-set="ks_section_count" t-value="0"/>
                                    <t t-foreach="state.to_do_view_data['ks_href_id']" t-as="ks_href_id" t-key="ks_href_id_index">
                                        <t t-if="ks_section_count===0">
                                            <div class="tab-pane active ks_tab_section"
                                                 t-att-data-item-id="item_id"
                                                 t-att-data-section-id="state.to_do_view_data['ks_section_id'][ks_section_count]"
                                                 t-att-id="ks_href_id">
                                                <t t-if="state.to_do_view_data['ks_content'][ks_href_id]">
                                                    <table class="table">
                                                        <t t-if="state.to_do_view_data['ks_content'][ks_href_id]">
                                                            <t t-set="ks_temp_count" t-value="0"/>
                                                            <t t-foreach="state.to_do_view_data['ks_content'][ks_href_id]"
                                                               t-as="table_row" t-key="table_row_index">
                                                                <tr>
                                                                    <t t-if="!ks_tv_play">
                                                                        <td class="ks_custom_check">
                                                                            <div class="form-check">
                                                                                <label class="form-check-label">

                                                                                    <t t-if="state.to_do_view_data['ks_content_active'][ks_href_id][ks_temp_count]=='True'">
                                                                                        <input class="form-check-input"
                                                                                               type="checkbox"
                                                                                               value=""/>
                                                                                    </t>
                                                                                    <t t-else="">
                                                                                        <input class="form-check-input"
                                                                                               type="checkbox" value=""
                                                                                               checked=""/>
                                                                                    </t>

                                                                                    <span class="form-check-sign ks_do_item_active_handler" t-on-click="_onKsActiveHandler"
                                                                                          t-att-data-item-id="item_id"
                                                                                          t-att-data-content-id="state.to_do_view_data['ks_content_record_id'][ks_href_id][ks_temp_count]"
                                                                                          t-att-data-section-id="state.to_do_view_data['ks_section_id'][ks_section_count]"
                                                                                          t-att-data-value-id="state.to_do_view_data['ks_content_active'][ks_href_id][ks_temp_count]">
                                                                                        <span class="check"/>
                                                                                    </span>
                                                                                </label>
                                                                            </div>
                                                                        </td>
                                                                    </t>
                                                                    <t t-if="state.to_do_view_data['ks_content_active'][ks_href_id][ks_temp_count]=='True'">
                                                                        <td class="ks_description"
                                                                            t-att-value="table_row"
                                                                            t-att-data-content-id="state.to_do_view_data['ks_content_record_id'][ks_href_id][ks_temp_count]">
                                                                            <t t-esc="table_row"/>
                                                                        </td>
                                                                    </t>

                                                                    <t t-else="">
                                                                        <td class="ks_description ks_do_item_line_through"
                                                                            t-att-value="table_row"
                                                                            t-att-data-content-id="state.to_do_view_data['ks_content_record_id'][ks_href_id][ks_temp_count]">
                                                                            <t t-esc="table_row"/>
                                                                        </td>
                                                                    </t>
                                                                    <t t-if="!ks_tv_play">
                                                                        <td class="td-actions text-right">
                                                                            <button type="button" rel="tooltip"
                                                                                    t-att-data-item-id="item_id"
                                                                                    t-att-data-content-id="state.to_do_view_data['ks_content_record_id'][ks_href_id][ks_temp_count]"
                                                                                    t-att-data-section-id="state.to_do_view_data['ks_section_id'][ks_section_count]"
                                                                                    class="btn-link btn-sm ks_edit_content" t-on-click="_onKsEditTask"
                                                                                    data-original-title="Edit Task">
                                                                                <!--                                                <i class="material-icons">Edit</i>-->
                                                                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 20 20" fill="none">
                                                                                    <path d="M9.16675 1.66663H7.50008C3.33341 1.66663 1.66675 3.33329 1.66675 7.49996V12.5C1.66675 16.6666 3.33341 18.3333 7.50008 18.3333H12.5001C16.6667 18.3333 18.3334 16.6666 18.3334 12.5V10.8333" stroke="currentColor" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"></path>
                                                                                    <path d="M13.3666 2.51663L6.7999 9.0833C6.5499 9.3333 6.2999 9.82497 6.2499 10.1833L5.89157 12.6916C5.75823 13.6 6.3999 14.2333 7.30823 14.1083L9.81657 13.75C10.1666 13.7 10.6582 13.45 10.9166 13.2L17.4832 6.6333C18.6166 5.49997 19.1499 4.1833 17.4832 2.51663C15.8166 0.849966 14.4999 1.3833 13.3666 2.51663Z" stroke="currentColor" stroke-width="1.25" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"></path>
                                                                                    <path d="M12.425 3.45837C12.9834 5.45004 14.5417 7.00837 16.5417 7.57504" stroke="currentColor" stroke-width="1.25" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"></path>
                                                                                </svg>
                                                                            </button>
                                                                            <button type="button"
                                                                                    t-att-data-item-id="item_id"
                                                                                    t-att-data-section-id="state.to_do_view_data['ks_section_id'][ks_section_count]"
                                                                                    t-att-data-content-id="state.to_do_view_data['ks_content_record_id'][ks_href_id][ks_temp_count]"
                                                                                    class="btn btn-danger btn-link btn-sm ks_delete_content" t-on-click="_onKsDeleteContent"
                                                                                    data-original-title="Remove">
                                                                                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                                    <path d="M14 3.98665C11.78 3.76665 9.54667 3.65332 7.32 3.65332C6 3.65332 4.68 3.71999 3.36 3.85332L2 3.98665" fill="#4B5563"/>
                                                                                    <path d="M14 3.98665C11.78 3.76665 9.54667 3.65332 7.32 3.65332C6 3.65332 4.68 3.71999 3.36 3.85332L2 3.98665" stroke="#4B5563" stroke-linecap="round" stroke-linejoin="round"/>
                                                                                    <path d="M5.66699 3.31337L5.81366 2.44004C5.92033 1.80671 6.00033 1.33337 7.12699 1.33337H8.87366C10.0003 1.33337 10.087 1.83337 10.187 2.44671L10.3337 3.31337" stroke="#4B5563" stroke-linecap="round" stroke-linejoin="round"/>
                                                                                    <path d="M12.5669 6.09338L12.1336 12.8067C12.0603 13.8534 12.0003 14.6667 10.1403 14.6667H5.86026C4.00026 14.6667 3.94026 13.8534 3.86693 12.8067L3.43359 6.09338" stroke="#4B5563" stroke-linecap="round" stroke-linejoin="round"/>
                                                                                    <path d="M6.88672 11H9.10672" stroke="#4B5563" stroke-linecap="round" stroke-linejoin="round"/>
                                                                                    <path d="M6.33301 8.33337H9.66634" stroke="#4B5563" stroke-linecap="round" stroke-linejoin="round"/>
                                                                                </svg>

                                                                            </button>
                                                                        </td>
                                                                    </t>
                                                                    <t t-set="ks_temp_count" t-value="ks_temp_count+1"/>
                                                                </tr>
                                                            </t>

                                                        </t>
                                                    </table>
                                                </t>
                                                <t t-else="">
                                                    <span class="nav-tabs-title">No Tasks Available</span>
                                                </t>

                                                <t t-set="ks_section_count" t-value="ks_section_count+1"/>
                                            </div>
                                        </t>
                                        <t t-else="">
                                            <div class="tab-pane fade ks_tab_section"
                                                 t-att-data-item-id="item_id"
                                                 t-att-data-section-id="state.to_do_view_data['ks_section_id'][ks_section_count]"
                                                 t-att-id="ks_href_id">
                                                <t t-if="state.to_do_view_data['ks_content'][ks_href_id]">
                                                    <table class="table">
                                                        <t t-if="state.to_do_view_data['ks_content'][ks_href_id]">
                                                            <t t-set="ks_temp_count" t-value="0"/>
                                                            <t t-foreach="state.to_do_view_data['ks_content'][ks_href_id]"
                                                               t-as="table_row" t-key="table_row_index">
                                                                <tr>
                                                                    <t t-if="!ks_tv_play">
                                                                        <td class="ks_custom_check">
                                                                            <div class="form-check">
                                                                                <label class="form-check-label">
                                                                                    <t t-if="state.to_do_view_data['ks_content_active'][ks_href_id][ks_temp_count]=='True'">
                                                                                        <input class="form-check-input"
                                                                                               type="checkbox"
                                                                                               value="True"/>
                                                                                    </t>
                                                                                    <t t-else="">
                                                                                        <input class="form-check-input"
                                                                                               type="checkbox"
                                                                                               value="False"
                                                                                               checked=""/>
                                                                                    </t>
                                                                                    <span class="form-check-sign ks_do_item_active_handler" t-on-click="_onKsActiveHandler"
                                                                                          t-att-data-item-id="item_id"
                                                                                          t-att-data-content-id="state.to_do_view_data['ks_content_record_id'][ks_href_id][ks_temp_count]"
                                                                                          t-att-data-section-id="state.to_do_view_data['ks_section_id'][ks_section_count]"
                                                                                          t-att-data-value-id="state.to_do_view_data['ks_content_active'][ks_href_id][ks_temp_count]">
                                                                                        <span class="check"></span>
                                                                                    </span>
                                                                                </label>
                                                                            </div>
                                                                        </td>
                                                                    </t>
                                                                    <t t-if="state.to_do_view_data['ks_content_active'][ks_href_id][ks_temp_count]=='True'">
                                                                        <td class="ks_description"
                                                                            t-att-value="table_row"
                                                                            t-att-data-content-id="state.to_do_view_data['ks_content_record_id'][ks_href_id][ks_temp_count]">
                                                                            <t t-esc="table_row"/>
                                                                        </td>
                                                                    </t>

                                                                    <t t-else="">
                                                                        <td class="ks_description ks_do_item_line_through"
                                                                            t-att-value="table_row"
                                                                            t-att-data-content-id="state.to_do_view_data['ks_content_record_id'][ks_href_id][ks_temp_count]">
                                                                            <t t-esc="table_row"/>
                                                                        </td>
                                                                    </t>
                                                                    <t t-if="!ks_tv_play">
                                                                        <td class="td-actions text-right">
                                                                            <button type="button" rel="tooltip"
                                                                                    t-att-data-item-id="item_id"
                                                                                    t-att-data-content-id="state.to_do_view_data['ks_content_record_id'][ks_href_id][ks_temp_count]"
                                                                                    t-att-data-section-id="state.to_do_view_data['ks_section_id'][ks_section_count]"
                                                                                    class="btn-link btn-sm ks_edit_content" t-on-click="_onKsEditTask"
                                                                                    data-original-title="Edit Task">
                                                                                <!--                                                <i class="material-icons">Edit</i>-->
                                                                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 20 20" fill="none">
                                                                                    <path d="M9.16675 1.66663H7.50008C3.33341 1.66663 1.66675 3.33329 1.66675 7.49996V12.5C1.66675 16.6666 3.33341 18.3333 7.50008 18.3333H12.5001C16.6667 18.3333 18.3334 16.6666 18.3334 12.5V10.8333" stroke="currentColor" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"></path>
                                                                                    <path d="M13.3666 2.51663L6.7999 9.0833C6.5499 9.3333 6.2999 9.82497 6.2499 10.1833L5.89157 12.6916C5.75823 13.6 6.3999 14.2333 7.30823 14.1083L9.81657 13.75C10.1666 13.7 10.6582 13.45 10.9166 13.2L17.4832 6.6333C18.6166 5.49997 19.1499 4.1833 17.4832 2.51663C15.8166 0.849966 14.4999 1.3833 13.3666 2.51663Z" stroke="currentColor" stroke-width="1.25" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"></path>
                                                                                    <path d="M12.425 3.45837C12.9834 5.45004 14.5417 7.00837 16.5417 7.57504" stroke="currentColor" stroke-width="1.25" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"></path>
                                                                                </svg>
                                                                            </button>
                                                                            <button type="button"
                                                                                    t-att-data-item-id="item_id"
                                                                                    t-att-data-section-id="state.to_do_view_data['ks_section_id'][ks_section_count]"
                                                                                    t-att-data-content-id="state.to_do_view_data['ks_content_record_id'][ks_href_id][ks_temp_count]"
                                                                                    class="btn btn-danger btn-link btn-sm ks_delete_content" t-on-click="_onKsDeleteContent"
                                                                                    data-original-title="Remove">
                                                                                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                                    <path d="M14 3.98665C11.78 3.76665 9.54667 3.65332 7.32 3.65332C6 3.65332 4.68 3.71999 3.36 3.85332L2 3.98665" fill="#4B5563"/>
                                                                                    <path d="M14 3.98665C11.78 3.76665 9.54667 3.65332 7.32 3.65332C6 3.65332 4.68 3.71999 3.36 3.85332L2 3.98665" stroke="#4B5563" stroke-linecap="round" stroke-linejoin="round"/>
                                                                                    <path d="M5.66699 3.31337L5.81366 2.44004C5.92033 1.80671 6.00033 1.33337 7.12699 1.33337H8.87366C10.0003 1.33337 10.087 1.83337 10.187 2.44671L10.3337 3.31337" stroke="#4B5563" stroke-linecap="round" stroke-linejoin="round"/>
                                                                                    <path d="M12.5669 6.09338L12.1336 12.8067C12.0603 13.8534 12.0003 14.6667 10.1403 14.6667H5.86026C4.00026 14.6667 3.94026 13.8534 3.86693 12.8067L3.43359 6.09338" stroke="#4B5563" stroke-linecap="round" stroke-linejoin="round"/>
                                                                                    <path d="M6.88672 11H9.10672" stroke="#4B5563" stroke-linecap="round" stroke-linejoin="round"/>
                                                                                    <path d="M6.33301 8.33337H9.66634" stroke="#4B5563" stroke-linecap="round" stroke-linejoin="round"/>
                                                                                </svg>

                                                                            </button>
                                                                        </td>
                                                                    </t>
                                                                    <t t-set="ks_temp_count" t-value="ks_temp_count+1"/>
                                                                </tr>
                                                            </t>

                                                        </t>
                                                    </table>
                                                </t>
                                                <t t-else="">
                                                    <span class="nav-tabs-title">No Tasks Available</span>
                                                </t>
                                                <t t-set="ks_section_count" t-value="ks_section_count+1"/>
                                            </div>
                                        </t>
                                    </t>
                                </div>
                            </div>
                        </t>
                        <t t-else="">
                            <div class="card-body">
                                <div class="tab-content">
                                    <span class="nav-tabs-title">No Tasks Available</span>
                                </div>
                            </div>
                        </t>
                    </div>

                </div>
            </div>
        </div>
    </t>

</templates>